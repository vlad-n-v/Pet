### Техническое решение для реализации проекта администрирования номеров в отеле

#### Структура проекта

Проект будет состоять из одного Solution, включающего четыре отдельных проекта:

1. **Api** — контроллеры и все, что связано с API. Имеет ссылки на: Core, Domain
2. **Core** — DTO, хелперы и прочая общая часть.
3. **Data** — миграции, сущности и репозитории. Имеет ссылку на Core
4. **Domain** — сервисы и бизнес-логика. Имеет ссылки на: Data, Core

### Api

**Описание проекта:**
Проект Api будет содержать все контроллеры и точки входа для работы с системой через HTTP запросы.

**Основные контроллеры:**

1. **RoomController**:
   - **Endpoints:**
     - `GET /api/rooms` - Получение списка всех номеров.
     - `GET /api/rooms/{id}` - Получение информации о конкретном номере.
     - `POST /api/rooms` - Создание нового номера.
     - `PUT /api/rooms/{id}` - Обновление информации о номере.
     - `DELETE /api/rooms/{id}` - Удаление номера.

2. **BookingController**:
   - **Endpoints:**
     - `GET /api/bookings` - Получение списка всех бронирований.
     - `GET /api/bookings/{id}` - Получение информации о конкретном бронировании.
     - `POST /api/bookings` - Создание нового бронирования.
     - `PUT /api/bookings/{id}` - Обновление информации о бронировании.
     - `DELETE /api/bookings/{id}` - Удаление бронирования.

### Core

**Описание проекта:**
Проект Core будет содержать общие для всех проектов элементы.

**Компоненты:**

1. **DTO (Data Transfer Objects)**:
   - **RoomDTO**: включает следующие свойства: Id, Number, Type (enum: economy, standart, luxury), price
   - **BookingDTO**: включает следующие свойства: Id, RoomId, CustomerName, CheckInDate, CheckOutDate, TotalPrice

2. **Общие интерфейсы**:
   - Интерфейсы для сервисов и репозиториев, которые будут использоваться в Domain и Data.

### Data

**Описание проекта:**
Проект Data будет ответственен за работу с базой данных, миграции, сущности и репозитории для доступа к данным.

**Основные компоненты:**

1. **Сущности (Entities)**:
   - **Room**: включает следующие свойства: Id, Number, Type (enum: economy, standart, luxury), price
   - **Booking**: включает следующие свойства: Id, RoomId, CustomerName, CheckInDate, CheckOutDate, TotalPrice

2. **Репозитории**:
   - **IRoomRepository**: Методы для работы с номерами (CRUD операции).
   - **IBookingRepository**: Методы для работы с бронированиями (CRUD операции).

3. **Миграции**:
   - Все необходимые миграции для создания таблиц и начальных данных в базе данных.

### Domain

**Описание проекта:**
Проект Domain будет содержать бизнес-логику и сервисы, отвечающие за обработку основных функциональных требований системы.

**Основные компоненты:**

1. **Сервисы**:
   - **IRoomService** и его реализация:
     - Логика создания, обновления, удаления и получения информации о номерах.
   - **IBookingService** и его реализация:
     - Логика создания, обновления, удаления и получения информации о бронированиях. Также включает проверку доступности номеров для бронирования.

**Основные требования:**

- **RoomService** должен включать:
  - Логику проверки уникальности номера при создании.
  - Логику обновления данных номера.
  - Логику удаления номера (проверка на наличие активных бронирований перед удалением).
  - Логику получения информации о номерах с возможностью фильтрации по типу, цене и т.д.

- **BookingService** должен включать:
  - Логику проверки доступности номера на указанные даты.
  - Логику создания нового бронирования.
  - Логику обновления существующего бронирования.
  - Логику удаления бронирования.

### Интеграция и общие требования

1. **Dependency Injection**: использовать встроенный механизм внедрения зависимостей .NET для управления зависимостями между контроллерами, сервисами и репозиториями.
2. **Automapper**: использовать для маппинга между сущностями и DTO.
3. **Entity Framework Core**: использовать для работы с базой данных.
5. **Swagger**: интеграция Swagger для документирования и тестирования API.

Эта структура и детальное описание компонентов позволяют создать масштабируемое и поддерживаемое приложение для администрирования номеров в отеле.